<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Constest - Controle de Eventos de Submissão</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <!-- CSS-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link th:href="@{/webjars/materialize/0.97.6/dist/css/materialize.min.css}" type="text/css" rel="stylesheet" media="screen,projection" />
    <link th:href="@{/webjars/font-awesome/4.6.3/css/font-awesome.min.css}" type="text/css" rel="stylesheet" />
	<link th:href="@{/css/style.css}" type="text/css" rel="stylesheet" media="screen,projection" />
	<link th:href="@{/css/time-line-style.css}" type="text/css" rel="stylesheet" media="screen,projection" />
  </head>
  <body>
    <div th:include="fragments/header :: header"></div>
    <div class="container page"><br/>
      <div th:include="fragments/organizador_menu_navegacao :: organizador_menu_navegacao"></div>
      <div class="row">
        <h2>Detalhes do Evento: 
        	<span class="card-title" th:text="${evento.nome}" ></span>
        </h2>
        <p th:text="${evento.descricao}"></p>
       	<div th:if="${organizaEvento}">
       		<form th:action="@{/eventoOrganizador/addOrganizadores}"  method="post">
	       	  <div class="input-field col s10">
	       	    <input type="hidden" th:value="${evento.id}" name="idEvento"/>
			    <select multiple="multiple" name="idOrganizadores">
			      <option value="" disabled="disabled" selected="selected">Selecione os Organizadores</option>
			      <div th:each="pessoa : ${pessoas}">
			        <option th:if="${pessoa.id == idPessoa}" th:value="${pessoa.id}" th:text="${pessoa.nome}" selected="selected"></option>
	                <option th:if="${pessoa.id != idPessoa}" th:value="${pessoa.id}" th:text="${pessoa.nome}" ></option>   
			      </div>
			    </select>
	            <label>organizadores</label>
	          </div>
	          <div class="col s2">
				<button class="btn waves-effect waves-light" type="submit" name="action">Add
				  <i class="material-icons right"></i>
				</button>
	          </div>
	       	</form>
       	
       	
       	</div>
        <div >
          <div class="col s12">
            <div class="card horizontal">
              <div class="card-stacked">
                <div class="card-content" th:if="${evento.prazoSubmissaoInicial}">
                  <section class="cd-horizontal-timeline">
				  	<span class="card-title">Datas importantes</span>
				  	<div class="timeline">
						<div class="events-wrapper">
							<div class="events">
								<ol>
									<li><a href="#0" th:attr="data-date=${#calendars.format({evento.PrazoSubmissaoInicial},'dd/MM/YYYY')}" class="selected" th:text="${#calendars.format({evento.PrazoSubmissaoInicial},'dd MMM')}">16 Jan</a></li>
									<li><a href="#0" th:attr="data-date=${#calendars.format({evento.PrazoRevisaoInicial},'dd/MM/YYYY')}" th:text="${#calendars.format({evento.PrazoRevisaoInicial},'dd MMM')}">28 Feb</a></li>
									<li><a href="#0" th:attr="data-date=${#calendars.format({evento.PrazoRevisaoFinal},'dd/MM/YYYY')}" th:text="${#calendars.format({evento.PrazoRevisaoFinal},'dd MMM')}">20 Mar</a></li>
									<li><a href="#0" th:attr="data-date=${#calendars.format({evento.PrazoSubmissaoFinal},'dd/MM/YYYY')}" th:text="${#calendars.format({evento.PrazoSubmissaoFinal},'dd MMM')}">20 Mar</a></li>
								</ol>
								<span class="filling-line" aria-hidden="true"></span>
							</div>
						</div>
						<ul class="cd-timeline-navigation">
							<li><a href="#0" class="prev inactive">Prev</a></li>
							<li><a href="#0" class="next">Next</a></li>
						</ul>
					</div>
					<div class="events-content">
						<ol>
							<li class="selected" th:attr="data-date=${#calendars.format({evento.PrazoSubmissaoInicial},'dd/MM/YYYY')}">
								<em>Começa o período de submissão dos artigos</em>
							</li>
							<li th:attr="data-date=${#calendars.format({evento.PrazoRevisaoInicial},'dd/MM/YYYY')}">
								<em>Terminou o periodo de submissão, hora de começar as Revisões</em>
							</li>
				
							<li th:attr="data-date=${#calendars.format({evento.PrazoRevisaoFinal},'dd/MM/YYYY')}">
								<em>Terminaram as revisões, hora de submeter a versão final</em>
							</li>
							
							<li href="#0" th:attr="data-date=${#calendars.format({evento.PrazoSubmissaoFinal},'dd/MM/YYYY')}">
								<em>Ultimo dia para submeter a versão final do artigo</em>
							</li>
						</ol>
					</div>
				 </section>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
        <div>
          <div class="col s3">
            <div class="card horizontal">
              <div class="card-stacked">
                <div class="card-content"><span class="card-title">Trilhas</span>
                  <p th:text="'Cadastradas: '+ ${numeroTrilhas}"></p>
                  <br /><br />
                </div>
                <div class="card-action" th:if="${organizaEvento}">
                  <a th:href="@{'/eventoOrganizador/trilhas/' + ${evento.id}}" class="btn white-text waves-effect waves-light blue-grey">Gerenciar Trilhas</a>
                 </div>
              </div>
            </div>
          </div>
          <div class="col s3">
            <div class="card horizontal">
              <div class="card-stacked">
                <div class="card-content">
                  <span class="card-title">Revisores</span>
                  <p th:text="'Cadastrados: '+ ${numeroRevisores}"></p>
                  <br /><br />
                </div>
                <div class="card-action" th:if="${organizaEvento}">
                  <a href="#" class="btn white-text waves-effect waves-light blue-grey">Gerenciar Revisores</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col s3">
            <div class="card horizontal">
              <div class="card-stacked">
                <div class="card-content">
                  <span class="card-title">Trabalhos</span>
                  <p th:text="'Submetidos: '+ ${numeroTrabalhos}"></p>
                  <p th:text="'Revisados: '+ ${numeroTrabalhosRevisados}"></p>
                  <p th:text="'Não Revisados: '+ ${numeroTrabalhosNaoRevisados}"></p>
                </div>
                <div class="card-action" th:if="${organizaEvento}">
                  <a href="#" class="btn white-text waves-effect waves-light blue-grey">Gerenciar Trabalhos</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col s3">
            <div class="card horizontal">
              <div class="card-stacked">
                <div class="card-content">
                  <span class="card-title">Revisões</span>
                  <p th:text="'Comentáios: '+ ${qtdTrilhas}"></p>
                  <br /><br />
                </div>
                <div class="card-action" th:if="${organizaEvento}">
                  <a href="#" class="btn white-text waves-effect waves-light blue-grey">Gerenciar Trabalhos</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
	<div th:include="fragments/footer :: footer"></div>
	<script type="text/javascript" th:src="@{/js/modernizr.js}"></script>
    <script type="text/javascript" th:src="@{/js/timeline.main.js}"></script>
    <script type="text/javascript">
    $(document).ready(function() {
    	$('select').material_select();

      //Inicialização do Modal excluir Evento
      $('.modal-trigger').leanModal();
    });
  </script>
  </body>
</html>