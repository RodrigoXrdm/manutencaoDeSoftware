<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Constest - Controle de Eventos de Submissão</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <!-- CSS-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link th:href="@{/webjars/materialize/0.97.6/dist/css/materialize.min.css}" type="text/css" rel="stylesheet" media="screen,projection" />
    <link th:href="@{/css/style.css}" type="text/css" rel="stylesheet" media="screen,projection" />
  </head>
  <body>
    <nav role="navigation" class="purple darken-4">
      <div class="nav-wrapper container"><a href="#"><img th:src="@{/img/logotipo_white.png}" alt="Contest" width="200px"/></a>
        <ul class="white-text right hide-on-med-and-down">
          <li><a href="#">Home</a></li>
          <li><a href="#">Profile</a></li>
        </ul>
        <ul id="nav-mobile" class="side-nav">
          <li><a href="#">Home</a></li>
          <li><a href="#">Profile</a></li>
        </ul><a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
      </div>
    </nav>
    <div class="container page"><br/>
      <div class="row opcoes">
      	<a th:href="@{/revisor}">Eventos Ativos</a>
      	<a th:href="@{/revisor/meusEventos}">Meus Eventos</a>
      </div>
      
      <div class="row">
        <h2>Lista de Eventos</h2>
        <div>
          <div th:if="${eventoVazioError != null}" id="error_area" class="row chip red white-text" style="margin-right: 5px;margin-left: 5px;" th:text="${eventoVazioError}">
				<i class="material-icons">close</i>
		  </div>
			
			<div th:if="${eventoInexistenteError != null}" id="error_area" class="row chip red white-text" style="margin-right: 5px;margin-left: 5px;" th:text="${eventoInexistenteError}">
				<i class="material-icons">close</i>
			</div>
			
			<div th:if="${participarEventoInativoError != null}" id="error_area" class="row chip red white-text" style="margin-right: 5px;margin-left: 5px;" th:text="${participarEventoInativoError}">
				<i class="material-icons">close</i>
			</div>
			
			<div th:if="${particapacaoEventoSucesso != null}" id="success_area" class="row chip green white-text" style="margin-right: 5px;margin-left: 5px;" th:text="${particapacaoEventoSucesso}">
			<i class="material-icons">close</i>
			</div>
        </div>
        <div class="row">
          <div class="input-field">
            <input id="pesquisar" type="text" class="col s11"/>
            <label for="pesquisar">Procurando um evento específico?</label><a class="btn-floating btn-large waves-effect waves-light"><i class="material-icons">search</i></a>
          </div>
        </div>
        <div class="row" th:if="${not #lists.isEmpty(eventos)}">
          <div class="row" th:each="evento : ${eventos}">
            <div class="card horizontal">
              <div class="card-stacked">
                <div class="card-content"><span class="card-title" th:text="${evento.nome}"></span>
                  <p th:text="${evento.descricao}">
                  </p>
                  <h5 th:text="'Inicio da Submissão: ' + ${#dates.format(evento.prazoSubmissaoInicial,'dd/MM/yyyy')}">Início da Submissão</h5>
				  <h5 th:text="'Fim da Submissão: ' + ${#dates.format(evento.prazoSubmissaoFinal,'dd/MM/yyyy')}"></h5>
                </div>
                <div class="card-action"><a th:attr="href='#modal' + ${evento.id}" class="waves-effect waves-light btn-large white-text blue-grey modal-trigger">Participar</a></div>
              </div>
            </div>
            <div th:attr="id='modal'+${evento.id}" class="modal">
          		<div class="modal-content">
	            	<h4>Participar do Evento</h4>
	            	<h5 th:text="${evento.nome}"></h5>
	            	<p>Tem certeza que quer participar desse evento?</p>	
          		</div>
          		<form th:action="@{/revisor/participarevento}" method="post">		
					<div class="modal-footer">
						<input type="hidden" name="idEvento" th:value="${evento.id}"/>
						<button type="submit" class="modal-action modal-close waves-effect btn-flat">Confirmar</button><a
						href="#" class="modal-action modal-close waves-effect btn-flat">Cancelar</a>
					</div>
				</form>	
        	</div>
          </div>
        </div>
        <div class="row col s12 center">
        	<ul class="pagination">
            	<li class="disabled"><a href="#"><i class="material-icons">chevron_left</i></a></li>
            	<li class="active"><a href="#">1</a></li>
             	<li class="waves-effect"><a href="#">2</a></li>
             <li class="waves-effect"><a href="#"><i class="material-icons">chevron_right</i></a></li>
            </ul>
        </div>
      </div>
    </div>
    <div th:include="fragments/footer :: footer"></div>
  </body>
</html>